# Daily Engineering Log â€“ 2025-06-28

## What we accomplished today

* Removed all obsolete v2 workflow files and deleted their branches on GitHub.
* Protected snapshot branch `v3-stable-20250627` (no force-push or deletion).
* Created new dev branch `ai-engine-v4-main` from v3 head.
* Copied website to `ai_engine_v4/website` and added workflow `deploy-pages-v4.yml` â‡’ preview site at `/v4-site/` now live.
* Drafted high-tier review prompt for 100 % contextual-word coverage.
* Added `ai_engine_v4` package with new models, storage, client and prompt loader.
* Implemented `prompts/review_tooltips.jinja` and `scripts/verify_news.py`; high-tier verifier logic now in place.
* Added packaging metadata (`pyproject.toml`) for `ai_engine_v4` to enable editable install in CI.

## Pain points / issues encountered

* Some legacy branches pointed to nowhere â€“ had to prune them locally and remotely.
* GitHub UI still shows old workflow runs; harmless but noisy.

## Task tracker

| Task | Purpose | Status |
|------|---------|--------|
| Delete v2 workflows & branches | Clean Actions list | âœ… Done |
| Protect v3 snapshot branch | Safe rollback | âœ… Done |
| Create v4 branch & preview deploy | Sandbox for new pipeline | âœ… Done |
| Implement high-tier verifier (GPT-4o) | Fill missing tokens, QA titles & summaries | âœ… Done |
| Update pipeline scripts for v4 | integrate verify_news step | âŒ Pending |

## Action items for tomorrow

1. Add `prompts/review_tooltips.jinja` under `ai_engine_v4`.
2. Implement `HighLLMClient` wrapper using GPT-4o with browsing.
3. Write `scripts/verify_news.py` to batch-review 3 articles at a time.
4. Patch `processor.py` (v4 copy) to call verifier after fast pass and merge fixes.
5. Test locally, then push and watch workflow run.

## File change log (why)

| File | Type | Reason |
|------|------|--------|
| .github/workflows/deploy-pages-v4.yml | â• add | Deploy v4 preview to gh-pages/v4-site/ |
| ai_engine_v4/website/** | â• copy | Provide isolated site for v4 |
| deleted .github/workflows/ai-engine-v2.yml | ğŸ—‘ï¸ delete | Obsolete |
| deleted .github/workflows/auto-update-v2.yml | ğŸ—‘ï¸ delete | Obsolete |
| deleted .github/workflows/auto-update.yml | ğŸ—‘ï¸ delete | Obsolete |
| ai_engine_v4/__init__.py | â• add | v4 package scaffold |
| ai_engine_v4/models.py | â• add | Article with `quality_checked` flag |
| ai_engine_v4/client.py | â• add | High-tier LLM client |
| ai_engine_v4/prompt_loader.py | â• add | Jinja loader for v4 |
| ai_engine_v4/storage.py | â• add | Storage adapted for v4 |
| ai_engine_v4/prompts/review_tooltips.jinja | â• add | Verification prompt template |
| scripts/verify_news.py | â• add | Batch verifier script |
| ai_engine_v4/pyproject.toml | â• add | Enable editable install for v4 package & fix CI | 